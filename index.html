<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
#content {
    margin: auto;
}
</style>
</head>
<body>

<div id="content" align="center">
<h1>Live Location</h1>
<p>Use a smartphone for proper result</p>
<button onclick="livePosition()">Try It</button>
<button onclick="stopPosition()">Stop</button>
<p id="output"></p>
</div>

<script>

var out = document.getElementById("output");
var id;

function livePosition() {
    if (navigator.geolocation) {
       id = navigator.geolocation.watchPosition(showLiveposition,anyError);
    } else {
        out.innerHTML = "Browser doesn't Support Geolocation";
    }
}

function showLiveposition(pos) {
    out.innerHTML = "Latitude: " + pos.coords.latitude +
    "<br>Longitude: " + pos.coords.longitude;
}

function anyError(error) {
    switch (error.code) {
        case error.PERMISSION_DENIED:
            out.innerHTML = "Grand the permission to make this work";
            break;
        case error.POSITION_UNAVAILABLE:
            out.innerHTML = "Location info unavailable";
            break;
        case error.TIMEOUT: 
            out.innerHTML = "Request timeout";
            break;
        case error.UNKNOWN_ERROR: 
            out.innerHTML = "An unknown error has occured";
            break;

    }
}

function stopPosition() {
    if (navigator.geolocation) {
        navigator.geolocation.clearWatch(id);
        out.innerHTML = 'Stopped!';
    }
}

</script>

</body>
</html>
